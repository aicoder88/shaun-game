{
  "id": "case_01",
  "title": "Murder on the Bullet Express",
  "description": "A mysterious murder aboard the high-speed Bullet Express. Use your detective skills and English knowledge to solve the case!",
  "setting": "A luxurious steampunk train compartment filled with Victorian-era furnishings and mysterious passengers.",
  "suspects": [
    {
      "id": "lestrange",
      "name": "Professor LeStrange",
      "age": 55,
      "occupation": "Archaeologist",
      "description": "A distinguished gentleman with wire-rimmed spectacles and a suspicious air.",
      "appearance": "Tall, thin man with grey beard, wearing a brown tweed jacket",
      "personality": "Scholarly but secretive, speaks in complex sentences",
      "alibi": "I was in the library car reading ancient texts until 11 PM",
      "motive": "The victim discovered his fake artifacts",
      "secretHistory": "Has been selling forged antiquities to museums",
      "sprite": "lestrange.png",
      "dialogue": [
        {
          "id": "initial",
          "trigger": "first_meeting",
          "nodes": [
            {
              "id": "greeting",
              "speaker": "Professor LeStrange",
              "text": "Good evening, young detective. I was reading when I heard the commotion. Most distressing indeed.",
              "grammarFocus": "Past continuous tense",
              "vocabulary": ["commotion", "distressing", "indeed"],
              "responses": [
                {
                  "id": "ask_reading",
                  "text": "What were you reading?",
                  "nextNodeId": "reading_response",
                  "grammarCorrect": true
                },
                {
                  "id": "ask_alibi",
                  "text": "Where was you when the murder happened?",
                  "nextNodeId": "grammar_correction",
                  "grammarCorrect": false,
                  "grammarFeedback": {
                    "error": "Subject-verb agreement error",
                    "explanation": "Use 'were' with 'you', not 'was'. The correct form is 'Where were you...?'",
                    "correctForm": "Where were you when the murder happened?",
                    "hint": "Remember: I was, you were, he/she/it was, we/they were",
                    "grammarRule": "Past tense of 'be' requires 'were' with the subject 'you'"
                  }
                }
              ]
            },
            {
              "id": "grammar_correction",
              "speaker": "System",
              "text": "Let's try that again with correct grammar.",
              "isGrammarFeedback": true,
              "responses": [
                {
                  "id": "retry_alibi",
                  "text": "Where were you when the murder happened?",
                  "nextNodeId": "alibi_response",
                  "grammarCorrect": true
                }
              ]
            },
            {
              "id": "alibi_response",
              "speaker": "Professor LeStrange",
              "text": "I was in the library car, reading ancient texts until 11 PM. You can ask the conductor if you don't believe me.",
              "grammarFocus": "Past continuous tense",
              "reveals": "clue_ancient_book"
            },
            {
              "id": "reading_response",
              "speaker": "Professor LeStrange",
              "text": "Ancient Egyptian texts. Fascinating stuff about burial customs. I had been studying them for hours.",
              "grammarFocus": "Past perfect continuous",
              "reveals": "clue_ancient_book"
            }
          ]
        }
      ]
    },
    {
      "id": "gaspard",
      "name": "Chef Gaspard",
      "age": 42,
      "occupation": "Head Chef",
      "description": "A rotund chef with flour-stained apron and nervous disposition.",
      "appearance": "Short, heavyset man with a large mustache and chef's hat",
      "personality": "Anxious, speaks quickly, often mixes languages",
      "alibi": "I was preparing dessert in the kitchen until midnight",
      "motive": "The victim wrote a scathing review of his restaurant",
      "secretHistory": "His restaurant is facing bankruptcy due to bad reviews",
      "sprite": "gaspard.png",
      "dialogue": [
        {
          "id": "initial",
          "trigger": "first_meeting",
          "nodes": [
            {
              "id": "greeting",
              "speaker": "Chef Gaspard",
              "text": "Ah, mon dieu! Such terrible news! I have been cooking all evening, preparing the most beautiful dessert.",
              "grammarFocus": "Present perfect continuous",
              "vocabulary": ["terrible", "preparing", "dessert"],
              "responses": [
                {
                  "id": "ask_dessert",
                  "text": "What kind of dessert were you making?",
                  "nextNodeId": "dessert_response",
                  "grammarCorrect": true
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "id": "zane",
      "name": "Captain Zane",
      "age": 38,
      "occupation": "Airship Captain",
      "description": "A weathered captain with mechanical arm and steampunk goggles.",
      "appearance": "Tall woman with short hair, brass goggles, and a mechanical prosthetic arm",
      "personality": "Direct, honest, uses nautical metaphors",
      "alibi": "I was on the observation deck checking the weather instruments",
      "motive": "The victim was blackmailing her about a past accident",
      "secretHistory": "Her airship crashed years ago due to her mistake, killing passengers",
      "sprite": "zane.png",
      "dialogue": [
        {
          "id": "initial",
          "trigger": "first_meeting",
          "nodes": [
            {
              "id": "greeting",
              "speaker": "Captain Zane",
              "text": "Detective! Good to see someone taking charge. I've been sailing these skies for twenty years - never seen anything like this.",
              "grammarFocus": "Present perfect tense",
              "vocabulary": ["detective", "charge", "sailing"],
              "responses": [
                {
                  "id": "ask_experience",
                  "text": "Have you ever seen a murder before?",
                  "nextNodeId": "experience_response",
                  "grammarCorrect": true
                }
              ]
            }
          ]
        }
      ]
    }
  ],
  "clues": [
    {
      "id": "bloody_knife",
      "name": "Bloody Knife",
      "description": "A kitchen knife with blood stains. Could belong to the chef.",
      "location": "carriage_floor",
      "difficulty": 1,
      "revealsInfo": "The murder weapon - but who used it?",
      "eslGrammarPoint": "Past participles as adjectives"
    },
    {
      "id": "torn_letter",
      "name": "Torn Letter",
      "description": "A letter ripped into pieces. Needs to be reconstructed.",
      "location": "victim_pocket",
      "difficulty": 3,
      "requiredItems": ["magnifying_glass"],
      "revealsInfo": "Blackmail letter revealing dark secrets",
      "eslGrammarPoint": "Passive voice in formal writing"
    },
    {
      "id": "ancient_book",
      "name": "Ancient Egyptian Book",
      "description": "A valuable book about burial customs, but something seems off.",
      "location": "library_table",
      "difficulty": 2,
      "requiredInsight": true,
      "revealsInfo": "The book is a fake - worth nothing",
      "eslGrammarPoint": "Adjectives describing authenticity"
    },
    {
      "id": "mechanical_piece",
      "name": "Mechanical Gear",
      "description": "A small brass gear from some kind of mechanism.",
      "location": "observation_deck",
      "difficulty": 2,
      "revealsInfo": "Fell from Captain Zane's mechanical arm during struggle",
      "eslGrammarPoint": "Past tense descriptions of actions"
    },
    {
      "id": "wine_glass",
      "name": "Poisoned Wine Glass",
      "description": "A wine glass with strange residue at the bottom.",
      "location": "dining_table",
      "difficulty": 2,
      "revealsInfo": "Contains traces of a rare poison from the kitchen",
      "eslGrammarPoint": "Prepositions of place"
    },
    {
      "id": "flight_log",
      "name": "Hidden Flight Log",
      "description": "A secret logbook hidden in the captain's quarters.",
      "location": "captain_cabin",
      "difficulty": 3,
      "requiredItems": ["lockpick"],
      "revealsInfo": "Records of the fatal airship crash and cover-up",
      "eslGrammarPoint": "Past perfect for sequences of events"
    },
    {
      "id": "confession_patchwork",
      "name": "Assembled Confession",
      "description": "A complete confession arranged from scattered statements.",
      "location": "confession_board",
      "difficulty": 3,
      "revealsInfo": "Captain Zane admits to sabotaging the brakes after being blackmailed.",
      "eslGrammarPoint": "Sequencing events with past tenses"
    }
  ],
  "scenes": [
    {
      "id": "carriage",
      "name": "Luxury Carriage",
      "description": "An opulent train carriage with velvet seats, brass fixtures, and mysterious shadows.",
      "background": "carriage_bg.jpg",
      "ambientSound": "train_ambient.ogg",
      "hotspots": [
        {
          "id": "victim_body",
          "name": "Victim's Body",
          "x": 300,
          "y": 200,
          "width": 100,
          "height": 150,
          "description": "The victim lies motionless. What happened here?",
          "interactionType": "examine"
        },
        {
          "id": "dining_table",
          "name": "Dining Table",
          "x": 150,
          "y": 300,
          "width": 200,
          "height": 80,
          "description": "An elegant dining table with the remains of dinner.",
          "interactionType": "examine"
        },
        {
          "id": "bookshelf",
          "name": "Bookshelf",
          "x": 50,
          "y": 100,
          "width": 80,
          "height": 200,
          "description": "Tall shelves filled with leather-bound books.",
          "interactionType": "examine",
          "targetId": "ancient_book"
        },
        {
          "id": "lestrange_seat",
          "name": "Professor's Seat",
          "x": 400,
          "y": 350,
          "width": 80,
          "height": 80,
          "description": "Where Professor LeStrange was sitting.",
          "interactionType": "dialogue",
          "targetId": "lestrange"
        },
    {
      "id": "kitchen_door",
      "name": "Kitchen Door",
      "x": 500,
      "y": 250,
      "width": 60,
      "height": 120,
      "description": "The door leading to the kitchen car.",
      "interactionType": "examine"
    },
    {
      "id": "confession_board",
      "name": "Confession Board",
      "x": 620,
      "y": 180,
      "width": 120,
      "height": 140,
      "description": "Magnetic speech tiles hint at a hidden confession waiting to be arranged.",
      "interactionType": "minigame",
      "targetId": "confession_patchwork"
    }
  ]
}
  ],
  "minigames": [
    {
      "id": "letter_puzzle",
      "type": "letter-reconstruction",
      "name": "Reconstruct the Torn Letter",
      "description": "Piece together the fragments to read the blackmail letter.",
      "difficulty": 3,
      "data": {
        "originalText": "Dear Captain Zane, I know about the Aurora incident. Pay me 10,000 pounds or I will tell everyone about your mistake that killed innocent people. You have until we reach London. - Anonymous",
        "pieces": [
          {"id": "piece1", "text": "Dear Captain", "x": 100, "y": 50, "rotation": 15, "width": 120, "height": 30},
          {"id": "piece2", "text": "Zane, I know", "x": 200, "y": 150, "rotation": -20, "width": 110, "height": 30},
          {"id": "piece3", "text": "about the Aurora", "x": 50, "y": 200, "rotation": 45, "width": 140, "height": 30},
          {"id": "piece4", "text": "incident. Pay me", "x": 300, "y": 80, "rotation": 0, "width": 130, "height": 30},
          {"id": "piece5", "text": "10,000 pounds or", "x": 150, "y": 300, "rotation": -30, "width": 150, "height": 30}
        ],
        "solution": "Dear Captain Zane, I know about the Aurora incident. Pay me 10,000 pounds or I will tell everyone about your mistake that killed innocent people. You have until we reach London. - Anonymous"
      }
    },
    {
      "id": "confession_patchwork",
      "type": "confession-patchwork",
      "name": "Confession Patchwork",
      "description": "Arrange confession fragments on the timeline to reveal what really happened.",
      "difficulty": 3,
      "data": {
        "confessionText": "Okay, you caught me... I was alone in the dining car just before midnight. When he threatened to expose the Aurora cover-up, my hands started shaking. I had loosened the brake bolts earlier that evening so the crash would look mechanical. I never wanted anyone to die; I'm ready to face the consequences now.",
        "segments": [
          {"id": "scene", "label": "Set the Scene", "prompt": "Where and when was the suspect?", "grammarHint": "Use past continuous to establish the background action.", "order": 1},
          {"id": "pressure", "label": "Rising Pressure", "prompt": "What forced the suspect to act?", "grammarHint": "Highlight the cause using past simple for sudden events.", "order": 2},
          {"id": "action", "label": "The Act", "prompt": "What did the suspect actually do?", "grammarHint": "Combine past perfect and past simple to describe the plan and action.", "order": 3},
          {"id": "remorse", "label": "Consequences & Remorse", "prompt": "How do they feel now?", "grammarHint": "Use modal verbs or present forms to express responsibility and remorse.", "order": 4}
        ],
        "fragments": [
          {"id": "fragment_scene_true", "text": "Okay, you caught me... I was alone in the dining car just before midnight.", "correctSegmentId": "scene", "hint": "Anchor the timeline with a past continuous scene-setter."},
          {"id": "fragment_pressure_true", "text": "When he threatened to expose the Aurora cover-up, my hands started shaking.", "correctSegmentId": "pressure", "hint": "Cause and effect clues usually fit into the rising pressure stage."},
          {"id": "fragment_action_true", "text": "I had loosened the brake bolts earlier that evening so the crash would look mechanical.", "correctSegmentId": "action", "hint": "Look for past perfect verbs that describe preparation and action."},
          {"id": "fragment_remorse_true", "text": "I never wanted anyone to die; I'm ready to face the consequences now.", "correctSegmentId": "remorse", "hint": "Remorse often uses modal verbs or present tense reflections."},
          {"id": "fragment_decoy_blame", "text": "It was the chef who broke the rules, not me.", "correctSegmentId": "pressure", "hint": "This fragment shifts blame and doesn't match the confession you uncovered.", "isDecoy": true},
          {"id": "fragment_decoy_professor", "text": "Professor LeStrange ordered me to stay quiet about the artifacts.", "correctSegmentId": "action", "hint": "This fragment talks about artifacts, not the sabotage of the train.", "isDecoy": true}
        ],
        "vocabularyFocus": ["confession", "timeline", "consequences"],
        "rewardClueId": "confession_patchwork"
      }
    },
    {
      "id": "wine_listening",
      "type": "gap-fill",
      "name": "Wine Tasting Conversation",
      "description": "Listen to the conversation and fill in the missing words.",
      "difficulty": 2,
      "data": {
        "audioFile": "wine_conversation.ogg",
        "transcript": "The victim _____ drinking expensive wine when the chef _____ him the glass. He _____ complained about the taste before he _____.",
        "gaps": [
          {
            "id": "gap1",
            "position": 12,
            "correctAnswer": "was",
            "options": ["was", "were", "is", "are"],
            "grammarPoint": "Past continuous tense"
          },
          {
            "id": "gap2", 
            "position": 56,
            "correctAnswer": "brought",
            "options": ["brought", "bring", "brings", "bringing"],
            "grammarPoint": "Past simple tense"
          },
          {
            "id": "gap3",
            "position": 73,
            "correctAnswer": "had",
            "options": ["had", "has", "have", "having"],
            "grammarPoint": "Past perfect tense"
          },
          {
            "id": "gap4",
            "position": 103,
            "correctAnswer": "collapsed",
            "options": ["collapsed", "collapse", "collapsing", "collapses"],
            "grammarPoint": "Past simple tense"
          }
        ],
        "vocabulary": ["expensive", "complained", "taste", "collapsed"]
      }
    }
  ],
  "vocabulary": [
    {
      "word": "commotion",
      "definition": "A state of noisy confusion or excitement",
      "example": "I heard the commotion from the dining car.",
      "partOfSpeech": "noun",
      "difficulty": 2,
      "synonyms": ["disturbance", "uproar", "turmoil"]
    },
    {
      "word": "distressing",
      "definition": "Causing anxiety, sorrow, or pain; upsetting",
      "example": "The news was most distressing indeed.",
      "partOfSpeech": "adjective",
      "difficulty": 2,
      "synonyms": ["upsetting", "troubling", "worrying"]
    },
    {
      "word": "indeed",
      "definition": "Used to emphasize a statement or response; in truth",
      "example": "That is indeed a valuable clue.",
      "partOfSpeech": "adverb",
      "difficulty": 1,
      "synonyms": ["truly", "certainly", "really"]
    },
    {
      "word": "alibi",
      "definition": "A claim or proof that someone was elsewhere when a crime was committed",
      "example": "The suspect has a strong alibi for the time of the murder.",
      "partOfSpeech": "noun",
      "difficulty": 2,
      "synonyms": ["excuse", "defense", "explanation"]
    },
    {
      "word": "suspect",
      "definition": "A person thought to be guilty of a crime",
      "example": "There are three suspects on the train.",
      "partOfSpeech": "noun",
      "difficulty": 1,
      "synonyms": ["accused", "defendant"]
    },
    {
      "word": "evidence",
      "definition": "Information or objects that help prove whether something is true",
      "example": "The bloody knife is important evidence.",
      "partOfSpeech": "noun",
      "difficulty": 1,
      "synonyms": ["proof", "clue", "testimony"]
    },
    {
      "word": "motive",
      "definition": "A reason for doing something, especially a crime",
      "example": "What was the killer's motive?",
      "partOfSpeech": "noun",
      "difficulty": 2,
      "synonyms": ["reason", "purpose", "cause"]
    },
    {
      "word": "investigate",
      "definition": "To examine carefully to discover the truth",
      "example": "We must investigate this murder thoroughly.",
      "partOfSpeech": "verb",
      "difficulty": 1,
      "synonyms": ["examine", "inspect", "study"]
    },
    {
      "word": "clue",
      "definition": "A piece of evidence that helps solve a mystery",
      "example": "I found an important clue in the library.",
      "partOfSpeech": "noun",
      "difficulty": 1,
      "synonyms": ["hint", "evidence", "lead"]
    },
    {
      "word": "antiquities",
      "definition": "Objects from ancient times, especially valuable artifacts",
      "example": "The professor deals in rare antiquities.",
      "partOfSpeech": "noun",
      "difficulty": 3,
      "synonyms": ["artifacts", "relics", "treasures"]
    },
    {
      "word": "blackmail",
      "definition": "The crime of demanding money by threatening to reveal secrets",
      "example": "The victim was blackmailing several passengers.",
      "partOfSpeech": "noun",
      "difficulty": 2,
      "synonyms": ["extortion", "coercion", "threats"]
    },
    {
      "word": "confession",
      "definition": "A formal statement admitting guilt or wrongdoing",
      "example": "The captain made a full confession.",
      "partOfSpeech": "noun",
      "difficulty": 2,
      "synonyms": ["admission", "acknowledgment", "disclosure"]
    },
    {
      "word": "consequences",
      "definition": "Results or effects of an action, often negative",
      "example": "You must face the consequences of your actions.",
      "partOfSpeech": "noun",
      "difficulty": 2,
      "synonyms": ["results", "outcomes", "effects"]
    },
    {
      "word": "collapsed",
      "definition": "Fell down suddenly, often due to illness or weakness",
      "example": "The victim collapsed after drinking the wine.",
      "partOfSpeech": "verb",
      "difficulty": 2,
      "synonyms": ["fell", "fainted", "crumpled"]
    },
    {
      "word": "scarce",
      "definition": "Not enough; in short supply",
      "example": "Good evidence is scarce in this case.",
      "partOfSpeech": "adjective",
      "difficulty": 2,
      "synonyms": ["rare", "limited", "insufficient"]
    }
  ],
  "eslFocus": [
    {
      "id": "past_tenses",
      "type": "grammar",
      "topic": "Past Tenses in Crime Investigation",
      "description": "Learn to use past simple, past continuous, and past perfect when describing events.",
      "examples": [
        "The victim was reading when someone entered.",
        "The chef had prepared dinner before the incident.",
        "I saw the professor leave at midnight."
      ],
      "difficulty": 2
    },
    {
      "id": "crime_vocabulary",
      "type": "vocabulary", 
      "topic": "Crime and Mystery Vocabulary",
      "description": "Essential vocabulary for discussing crimes and investigations.",
      "examples": [
        "suspect", "alibi", "evidence", "motive", "witness",
        "investigate", "murder", "victim", "clue", "mystery"
      ],
      "difficulty": 1
    },
    {
      "id": "modal_verbs",
      "type": "grammar",
      "topic": "Modal Verbs for Speculation",
      "description": "Use modal verbs to express possibility, ability, and speculation about the crime.",
      "examples": [
        "The killer could be anyone on the train.",
        "Professor LeStrange might have a motive.",
        "Captain Zane must have been hiding something."
      ],
      "difficulty": 3
    }
  ]
}
